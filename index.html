<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>House Calculator - Jhalak '26</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    /* HERO HEIGHT */
    .hero-height {
      height: 60vh;
    }

    /* HERO TEXT DESKTOP */
    .hero-text {
      font-size: 4rem;
    }

    /* DESKTOP HERO IMAGE */
    .hero-section {
      background-image:
        linear-gradient(to right, rgba(0,0,0,0.5), rgba(0,0,0,0.5)),
        url('flag.jpg');
    }

    /* MOBILE HERO IMAGE FIX + SWITCH TO FLAG-MOBILE.JPG */
    @media (max-width: 640px) {
      .hero-height {
        height: 40vh !important;
      }

      .hero-text {
        font-size: 2.2rem !important;
      }

      .hero-section {
        background-image:
          linear-gradient(to right, rgba(0,0,0,0.6), rgba(0,0,0,0.6)),
          url('flag-mobile.jpg') !important;
        background-size: contain !important;
        background-repeat: no-repeat !important;
        background-position: center !important;
        background-color: black !important;
      }
    }
  </style>
</head>

<body class="bg-black text-white">

  <!-- HERO SECTION -->
  <section
    class="hero-section hero-height flex items-center justify-center w-full bg-cover bg-center bg-no-repeat">
    <h1 class="hero-text font-extrabold drop-shadow-xl tracking-wide text-white">
      JHALAK '26
    </h1>
  </section>

  <!-- MAIN SECTION -->
  <section class="w-full px-6 py-12 text-center">

    <h2 class="text-3xl font-semibold mb-6">Find Your House</h2>

    <!-- PG / UG DROPDOWN -->
    <div class="max-w-md mx-auto bg-white text-black p-5 rounded-xl shadow-lg">
      <label class="font-semibold block mb-2">Select Program</label>

      <select id="programSelect"
              class="w-full p-3 rounded-lg border outline-none">
        <option value="">-- Choose --</option>
        <option value="PG">PG</option>
        <option value="UG">UG</option>
      </select>

      <!-- UG Departments (hidden for PG) -->
      <div id="ugDeptBox" class="mt-5 hidden">
        <label class="font-semibold block mb-2">Select Department</label>

        <select id="ugDeptSelect"
                class="w-full p-3 rounded-lg border outline-none">
          <option value="">-- Select UG Dept --</option>
          <option value="ET">Engineering & Technology</option>
        </select>
      </div>

      <!-- Input for last 3 digits -->
      <div id="digitsBox" class="mt-5 hidden">
        <label class="font-semibold block mb-2">Enter Last 3 Digits</label>
        <input id="digitInput"
               type="number"
               class="w-full p-3 rounded-lg border outline-none"
               placeholder="Example: 456" />
      </div>

      <button onclick="calculateHouse()"
              class="mt-6 w-full bg-black text-white font-semibold py-3 rounded-lg hover:bg-gray-800 transition">
        Get My House
      </button>

      <p id="result" class="mt-6 text-xl font-bold"></p>
      <img id="houseImage" class="mt-4 w-40 mx-auto hidden" />
    </div>

  </section>

  <script>
    const pgHouse = "Brahmos";

    const houses = {
      0: { name: "Trishul", img: "trishul.png" },
      1: { name: "Agni", img: "agni.png" },
      2: { name: "Aakash", img: "aakash.png" },
      3: { name: "Prithvi", img: "prithvi.png" }
    };

    document.getElementById("programSelect").addEventListener("change", function () {
      const pgSelected = this.value === "PG";

      document.getElementById("ugDeptBox").classList.toggle("hidden", pgSelected);
      document.getElementById("digitsBox").classList.toggle("hidden", false);

      document.getElementById("result").textContent = "";
      document.getElementById("houseImage").classList.add("hidden");
    });

    function calculateHouse() {
      const program = document.getElementById("programSelect").value;
      const dept = document.getElementById("ugDeptSelect").value;
      const digits = document.getElementById("digitInput").value;
      const result = document.getElementById("result");
      const imgBox = document.getElementById("houseImage");

      result.textContent = "";
      imgBox.classList.add("hidden");

      if (!program) {
        result.textContent = "Please select a program.";
        return;
      }

      if (!digits) {
        result.textContent = "Enter the last 3 digits.";
        return;
      }

      if (program === "PG") {
        result.textContent = "Your House: " + pgHouse;
        imgBox.src = "brahmos.png";
        imgBox.classList.remove("hidden");
        return;
      }

      if (program === "UG" && !dept) {
        result.textContent = "Please select your UG department.";
        return;
      }

      const sum = digits.split("").reduce((a, b) => a + Number(b), 0);
      const remainder = sum % 4;

      result.textContent = "Your House: " + houses[remainder].name;
      imgBox.src = houses[remainder].img;
      imgBox.classList.remove("hidden");
    }
  </script>

</body>
</html>
